# ğŸ§© æ‰‹å†™æ•°å­—è¯†åˆ«ç³»ç»Ÿæ¥å£è®¾è®¡ï¼ˆVue3 + Java Spring Bootï¼‰

æ‰€æœ‰æ¥å£ç»Ÿä¸€ä»¥

```
http://localhost:8080/api/
```

ä¸ºå‰ç¼€ã€‚

æ¨¡å—ï¼š`è®­ç»ƒç®¡ç† TrainController`
 è·¯å¾„å‰ç¼€ï¼š`/api/train`

------

# ğŸ“˜ ä¸‰ã€æ–°å¢æ¥å£å®šä¹‰

| åŠŸèƒ½             | æ–¹æ³•   | è·¯å¾„                | è¯·æ±‚ä½“                                                       | è¿”å›å€¼                                                       |
| ---------------- | ------ | ------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| è®¾ç½®è®­ç»ƒå‚æ•°     | `POST` | `/api/train/config` | `{ "dataset": "MNIST", "modelType": "CNN", "lr": 0.001, "batchSize": 64, "optimizer": "Adam", "lossFunc": "CrossEntropy" }` | `{ "msg": "å‚æ•°è®¾ç½®æˆåŠŸ" }`                                  |
| è·å–å½“å‰è®­ç»ƒå‚æ•° | `GET`  | `/api/train/config` | -                                                            | `{ "dataset": "MNIST", "modelType": "CNN", "lr": 0.001, "batchSize": 64, "optimizer": "Adam", "lossFunc": "CrossEntropy" }` |

------

# ğŸ§± å››ã€æ¥å£è¡Œä¸ºè¯´æ˜

### 1ï¸âƒ£ `POST /api/train/config`

- å‰ç«¯ç‚¹å‡»â€œä¿å­˜å‚æ•°â€æŒ‰é’®æ—¶è°ƒç”¨ã€‚
- åç«¯ï¼š
  - æ ¡éªŒå‚æ•°ï¼›
  - å†™å…¥é…ç½®æ–‡ä»¶ï¼ˆå¦‚ `config.json`ï¼‰ï¼›
  - æˆ–å­˜å…¥æ•°æ®åº“ / å†…å­˜ç¼“å­˜ï¼›
  - è¿”å›â€œè®¾ç½®æˆåŠŸâ€ã€‚

------

### 2ï¸âƒ£ `GET /api/train/config`

- é¡µé¢åŠ è½½æ—¶è°ƒç”¨ï¼Œç”¨æ¥æ˜¾ç¤ºâ€œä¸Šæ¬¡ä½¿ç”¨çš„è®­ç»ƒé…ç½®â€ï¼›
- 

------

## ğŸ§  ä¸€ã€æ¨¡å‹ç®¡ç†æ¨¡å—ï¼ˆModelControllerï¼‰

### âœ… åŠŸèƒ½éœ€æ±‚

- æ˜¾ç¤ºæ‰€æœ‰æ¨¡å‹ä¿¡æ¯ï¼ˆåå­—ã€ç”¨æˆ·ã€è®­ç»ƒæ—¶é—´ã€å‡†ç¡®ç‡ã€ç‰ˆæœ¬å·ã€æ—¥æœŸï¼‰
- å¯åˆ‡æ¢å½“å‰ä½¿ç”¨çš„æ¨¡å‹

------

### ğŸ“˜ æ¥å£è®¾è®¡

| åŠŸèƒ½             | æ–¹æ³•     | è·¯å¾„                      | è¯·æ±‚ä½“                            | è¿”å›å€¼                                                       |
| ---------------- | -------- | ------------------------- | --------------------------------- | ------------------------------------------------------------ |
| è·å–æ‰€æœ‰æ¨¡å‹åˆ—è¡¨ | `GET`    | `/api/models`             | -                                 | `[ { id, name, user, trainTime, accuracy, version, trainDate, active } ]` |
| åˆ‡æ¢å½“å‰æ¨¡å‹     | `POST`   | `/api/models/apply`       | `{ "modelName": "CNN-Enhanced" }` | `{ "msg": "æ¨¡å‹å·²åˆ‡æ¢" }`                                    |
| åˆ é™¤æ¨¡å‹         | `DELETE` | `/api/models/{modelName}` | -                                 | `{ "msg": "æ¨¡å‹åˆ é™¤æˆåŠŸ" }`                                  |
|                  |          |                           |                                   |                                                              |

------

### ğŸ“¦ ç¤ºä¾‹è¿”å›æ•°æ®

```json
[
  {
    "id": 1,
    "name": "LeNet-5",
    "user": "researcher01",
    "trainTime": "36åˆ†é’Ÿ",
    "accuracy": 0.982,
    "version": "v1.2",
    "trainDate": "2025-10-18",
    "active": true
  },
  {
    "id": 2,
    "name": "CNN-Enhanced",
    "user": "developer02",
    "trainTime": "42åˆ†é’Ÿ",
    "accuracy": 0.990,
    "version": "v2.1",
    "trainDate": "2025-10-20",
    "active": false
  }
]
```

------

## ğŸ“œ äºŒã€æ—¥å¿—ç®¡ç†æ¨¡å—ï¼ˆLogControllerï¼‰

### âœ… åŠŸèƒ½éœ€æ±‚

- è®°å½•ç³»ç»Ÿæ“ä½œæ—¥å¿—ï¼šæ“ä½œç”¨æˆ·åã€æ“ä½œå†…å®¹ï¼ˆç™»å½•ã€ä¸Šä¼ ã€åˆ é™¤ç­‰ï¼‰ã€æ“ä½œæ—¶é—´
- é¡µé¢æ˜¾ç¤ºæ“ä½œæ—¥å¿—è¡¨

------

### ğŸ“˜ æ¥å£è®¾è®¡

| åŠŸèƒ½         | æ–¹æ³•   | è·¯å¾„        | è¯·æ±‚ä½“                                                    | è¿”å›å€¼                       |
| ------------ | ------ | ----------- | --------------------------------------------------------- | ---------------------------- |
| è·å–æ—¥å¿—åˆ—è¡¨ | `GET`  | `/api/logs` | -                                                         | `[ { user, action, time } ]` |
| å†™å…¥æ—¥å¿—     | `POST` | `/api/logs` | `{ "user": "admin", "action": "ä¸Šä¼ æ–°æ•°æ®é›†(MNIST-v2)" }` | `{ "msg": "æ—¥å¿—å·²è®°å½•" }`    |

------

### ğŸ“¦ ç¤ºä¾‹è¿”å›æ•°æ®

```json
[
  { "user": "admin", "action": "ç™»å½•ç³»ç»Ÿ", "time": "2025-10-22 09:25:30" },
  { "user": "researcher01", "action": "ä¸Šä¼ æ–°æ•°æ®é›† (MNIST-æ‰©å±•v2)", "time": "2025-10-22 10:15:42" },
  { "user": "admin", "action": "å¯åŠ¨è®­ç»ƒä»»åŠ¡", "time": "2025-10-22 10:32:18" }
]
```

------

## ğŸ“ ä¸‰ã€æ•°æ®é›†ç®¡ç†æ¨¡å—ï¼ˆDatasetControllerï¼‰

### âœ… åŠŸèƒ½éœ€æ±‚

- ä¸Šä¼ æ–°æ•°æ®é›†ï¼ˆå¸¦åå­—ã€æ•°é‡ã€ç±»å‹ï¼‰
- åˆ é™¤é€‰ä¸­çš„æ•°æ®é›†
- è®¾ç½®è®­ç»ƒç”¨æ•°æ®é›†ï¼ˆç‚¹å‡»åè·³è½¬åˆ°è®­ç»ƒç®¡ç†ï¼‰

------

### ğŸ“˜ æ¥å£è®¾è®¡

| åŠŸèƒ½               | æ–¹æ³•     | è·¯å¾„                          | è¯·æ±‚ä½“                       | è¿”å›å€¼                                      |
| ------------------ | -------- | ----------------------------- | ---------------------------- | ------------------------------------------- |
| è·å–æ‰€æœ‰æ•°æ®é›†     | `GET`    | `/api/datasets`               | -                            | `[ { id, name, numImages, type } ]`         |
| ä¸Šä¼ æ–°æ•°æ®é›†       | `POST`   | `/api/datasets/upload`        | FormDataï¼ˆæ–‡ä»¶ + metaï¼‰      | `{ "msg": "ä¸Šä¼ æˆåŠŸ" }`                     |
| åˆ é™¤æ•°æ®é›†         | `DELETE` | `/api/datasets/{datasetName}` | -                            | `{ "msg": "åˆ é™¤æˆåŠŸ" }`                     |
| é€‰æ‹©æ•°æ®é›†ç”¨äºè®­ç»ƒ | `POST`   | `/api/datasets/select`        | `{ "datasetName": "MNIST" }` | `{ "msg": "å·²é€‰æ‹©", "redirect": "/train" }` |

------

### ğŸ“¦ ç¤ºä¾‹è¿”å›æ•°æ®

```json
[
  { "id": 1, "name": "MNISTåŸºç¡€æ•°æ®é›†", "numImages": 12000, "type": "è®­ç»ƒé›†" },
  { "id": 2, "name": "EMNISTæ‰©å±•æ•°æ®", "numImages": 24500, "type": "è®­ç»ƒé›†" },
  { "id": 3, "name": "è‡ªå®šä¹‰æ‰‹å†™é›†", "numImages": 3200, "type": "æµ‹è¯•é›†" }
]
```

------

## âš™ï¸ å››ã€è®­ç»ƒç®¡ç†æ¨¡å—ï¼ˆTrainControllerï¼‰

### âœ… åŠŸèƒ½éœ€æ±‚

- æ˜¾ç¤ºå½“å‰é€‰ä¸­çš„æ•°æ®é›†ä¿¡æ¯ï¼ˆå¤§å°ã€åƒç´ ï¼‰
- æ¨¡å‹æ¶æ„é€‰æ‹©ï¼ˆå¦‚ CNNã€MLPã€ResNetï¼‰
- è®¾ç½®è®­ç»ƒå‚æ•°ï¼šå­¦ä¹ ç‡ã€BatchSizeã€ä¼˜åŒ–å™¨ã€æŸå¤±å‡½æ•°
- æ§åˆ¶è®­ç»ƒï¼ˆå¼€å§‹ã€åœæ­¢ï¼‰
- å®æ—¶æ˜¾ç¤ºè®­ç»ƒæ—¥å¿—
- å¯è§†åŒ– loss æ›²çº¿ã€å‡†ç¡®ç‡æ›²çº¿

------

### ğŸ“˜ æ¥å£è®¾è®¡

| åŠŸèƒ½                 | æ–¹æ³•   | è·¯å¾„                       | è¯·æ±‚ä½“                                                       | è¿”å›å€¼                                                       |
| -------------------- | ------ | -------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| è·å–å½“å‰æ•°æ®é›†ä¿¡æ¯   | `GET`  | `/api/train/dataset`       | -                                                            | `{ "name": "MNIST", "trainSize": 60000, "testSize": 10000, "imageSize": "28Ã—28" }` |
| è·å–å¯é€‰æ¨¡å‹æ¶æ„     | `GET`  | `/api/train/architectures` | -                                                            | `[ { "name": "CNN", "desc": "2å·ç§¯å±‚+æ± åŒ–å±‚+å…¨è¿æ¥å±‚" }, { "name": "MLP", "desc": "3å±‚å…¨è¿æ¥ç½‘ç»œ" } ]` |
| å¯åŠ¨è®­ç»ƒ             | `POST` | `/api/train/start`         | `{ "dataset": "MNIST", "modelType": "CNN", "lr": 0.001, "batchSize": 64, "optimizer": "Adam", "lossFunc": "CrossEntropy" }` | `{ "msg": "è®­ç»ƒä»»åŠ¡å·²å¯åŠ¨" }`                                |
| åœæ­¢è®­ç»ƒ             | `POST` | `/api/train/stop`          | -                                                            | `{ "msg": "è®­ç»ƒä»»åŠ¡å·²åœæ­¢" }`                                |
| è·å–è®­ç»ƒæ—¥å¿—ï¼ˆå®æ—¶ï¼‰ | `GET`  | `/api/train/logs`          | -                                                            | `[ { epoch, step, loss, acc, elapsed } ]`                    |
| è·å–è®­ç»ƒæ›²çº¿æ•°æ®     | `GET`  | `/api/train/curve`         | -                                                            | `{ "lossCurve": [...], "accCurve": [...] }`                  |

------

### ğŸ“¦ ç¤ºä¾‹è¿”å›æ•°æ®

**è®­ç»ƒæ—¥å¿—ï¼š**

```json
[
  { "epoch": 1, "step": 100, "loss": 1.872, "acc": 0.412, "elapsed": "45s" },
  { "epoch": 1, "step": 200, "loss": 1.452, "acc": 0.623, "elapsed": "1m 32s" },
  { "epoch": 1, "step": 600, "loss": 0.673, "acc": 0.893, "elapsed": "4m 32s" }
]
```

**æ›²çº¿æ•°æ®ï¼š**

```json
{
  "lossCurve": [1.8, 1.45, 1.12, 0.78, 0.67],
  "accCurve": [41.2, 62.3, 73.2, 85.6, 89.3]
}
```

------

## âœ… ä¸ƒã€æ€»ç»“ä¸€è§ˆè¡¨ï¼ˆå¿«é€Ÿç´¢å¼•ï¼‰

| æ¨¡å—       | æ–¹æ³•   | è·¯å¾„                       | åŠŸèƒ½               |
| ---------- | ------ | -------------------------- | ------------------ |
| æ¨¡å‹ç®¡ç†   | GET    | `/api/models`              | è·å–æ¨¡å‹åˆ—è¡¨       |
| æ¨¡å‹ç®¡ç†   | POST   | `/api/models/apply`        | åˆ‡æ¢æ¨¡å‹           |
| æ—¥å¿—ç®¡ç†   | GET    | `/api/logs`                | è·å–æ—¥å¿—           |
| æ—¥å¿—ç®¡ç†   | POST   | `/api/logs`                | å†™æ—¥å¿—             |
| æ•°æ®é›†ç®¡ç† | GET    | `/api/datasets`            | è·å–æ•°æ®é›†åˆ—è¡¨     |
| æ•°æ®é›†ç®¡ç† | POST   | `/api/datasets/upload`     | ä¸Šä¼ æ•°æ®é›†         |
| æ•°æ®é›†ç®¡ç† | DELETE | `/api/datasets/{name}`     | åˆ é™¤æ•°æ®é›†         |
| æ•°æ®é›†ç®¡ç† | POST   | `/api/datasets/select`     | é€‰æ‹©æ•°æ®é›†         |
| è®­ç»ƒç®¡ç†   | GET    | `/api/train/dataset`       | è·å–å½“å‰æ•°æ®é›†ä¿¡æ¯ |
| è®­ç»ƒç®¡ç†   | GET    | `/api/train/architectures` | è·å–æ¨¡å‹æ¶æ„é€‰é¡¹   |
| è®­ç»ƒç®¡ç†   | POST   | `/api/train/start`         | å¯åŠ¨è®­ç»ƒ           |
| è®­ç»ƒç®¡ç†   | POST   | `/api/train/stop`          | åœæ­¢è®­ç»ƒ           |
| è®­ç»ƒç®¡ç†   | GET    | `/api/train/logs`          | è·å–è®­ç»ƒæ—¥å¿—       |
| è®­ç»ƒç®¡ç†   | GET    | `/api/train/curve`         | è·å–è®­ç»ƒæ›²çº¿       |

